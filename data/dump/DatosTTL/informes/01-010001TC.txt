@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix qb: <http://purl.org/linked-data/cube#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix sdmx-concept:    <http://purl.org/linked-data/sdmx/2009/concept#> .
@prefix sdmx-dimension:  <http://purl.org/linked-data/sdmx/2009/dimension#> .
@prefix sdmx-attribute:  <http://purl.org/linked-data/sdmx/2009/attribute#> .
@prefix sdmx-measure:    <http://purl.org/linked-data/sdmx/2009/measure#> .
@prefix sdmx-metadata:   <http://purl.org/linked-data/sdmx/2009/metadata#> .
@prefix sdmx-code:       <http://purl.org/linked-data/sdmx/2009/code#> .
@prefix sdmx-subject:    <http://purl.org/linked-data/sdmx/2009/subject#> .
@prefix iaest-dimension: <http://opendata.aragon.es/def/iaest/dimension/> .
@prefix iaest-medida:    <http://opendata.aragon.es/def/iaest/medida/> .


# Cabecera del CSV
# Comarca código	Comarca nombre	Clase vivienda (agregado)	Clase vivienda (detalle)	Total viviendas
# Cuando se lee Comarca|Municipio|Provincia código|nombre sólo se representará el nombre, que generará una URI de AragoDBpedia
# Suponemos que ya hemos indicado en alguna parte que Clase vivienda (agregado) y Clase vivienda (detalle) son dimensiones
# y que Total viviendas es una medida
# Ojo, en este informe falta el año

# Estructura del cubo de datos correspondiente
<http://opendata.aragon.es/recurso/iaest/dsd/01-010001TC> a qb:DataStructureDefinition ;
	rdfs:label "Estructura de los cubos de datos que se corresponden con los informes 01-010001TC”@es ;
	skos:notation “DSD-01-010001” .
	
<http://opendata.aragon.es/recurso/iaest/dsd/01-010001TC> qb:component _:node18k23egmfx1 .
_:node18k23egmfx1 qb:dimension sdmx-dimension:refArea .

<http://opendata.aragon.es/recurso/iaest/dsd/01-010001TC> qb:component _:node18k23egmfx2 .
_:node18k23egmfx2 qb:dimension sdmx-dimension:refPeriod .

<http://opendata.aragon.es/recurso/iaest/dsd/01-010001TC> qb:component _:node18k23egmfx3 .
_:node18k23egmfx3 qb:dimension <http://opendata.aragon.es/def/iaest/dimension/clase-vivienda-agregado> .

<http://opendata.aragon.es/recurso/iaest/dsd/01-010001TC> qb:component _:node18k23egmfx4 .
_:node18k23egmfx4 qb:dimension <http://opendata.aragon.es/def/iaest/dimension/clase-vivienda-detalle> .

<http://opendata.aragon.es/recurso/iaest/dsd/01-010001TC> qb:component _:node18k23egmfx5 .
_:node18k23egmfx5 qb:measure <http://opendata.aragon.es/def/iaest/medida/total-viviendas> .



# Detalles del las propiedades (estas las generaremos en otros ficheros)
<http://opendata.aragon.es/def/iaest/dimension/clase-vivienda-agregado> a qb:DimensionProperty , rdf:Property, qb:CodedProperty ;
        rdfs:label “Clase vivienda (agregado)”@es ;
	rdfs:comment "Clase vivienda (agregado)”@es ;
	rdfs:range skos:Concept ;
	qb:codeList <http://opendata.aragon.es/kos/iaest/clase-vivienda-agregado> .

<http://opendata.aragon.es/def/iaest/dimension/clase-vivienda-detalle> a qb:DimensionProperty , rdf:Property, qb:CodedProperty ;
        rdfs:label “Clase vivienda (detalle)"@es ;
	rdfs:comment "Clase vivienda (detalle)"@es ;
	rdfs:range skos:Concept ;
	qb:codeList <http://opendata.aragon.es/kos/iaest/clase-vivienda-detalle> .

<http://opendata.aragon.es/def/iaest/medida/total-viviendas> a qb:MeasureProperty , rdf:Property ;
        rdfs:label “Total viviendas“@es ;
	rdfs:comment “Total viviendas“@es ;
	rdfs:subPropertyOf <http://purl.org/linked-data/sdmx/2009/measure#obsValue> ;
	rdfs:range xsd:nonNegativeInteger .

sdmx-dimension:refArea a qb:DimensionProperty, rdf:Property ;
    rdfs:range rdfs:Resource;
    qb:concept sdmx-concept:refArea ;
    rdfs:label "Reference Area"@en ;
    rdfs:comment "The country or geographic area to which the measured statistical phenomenon relates."@en ;
    rdfs:isDefinedBy <http://sdmx.org/wp-content/uploads/2009/01/01_sdmx_cog_annex_1_cdc_2009.pdf> .

sdmx-dimension:refPeriod a qb:DimensionProperty, rdf:Property ;
    rdfs:range rdfs:Resource;
    qb:concept sdmx-concept:refPeriod ;
    rdfs:label "Reference Period"@en ;
    rdfs:comment "The period of time or point in time to which the measured observation is intended to refer."@en ;
    rdfs:isDefinedBy <http://sdmx.org/wp-content/uploads/2009/01/01_sdmx_cog_annex_1_cdc_2009.pdf> .


# Ahora las observaciones una por una
# 01	La Jacetania	Colectiva	Colectiva	9
<http://opendata.aragon.es/recurso/iaest/observacion/01-010001TC/af296322-1591-401a-8f21-04c1ffb426eb> a qb:Observation ;
	sdmx-dimension:refArea <http://opendata.aragon.es/recurso/territorio/Comarca/La_Jacetania> ;
	sdmx-dimension:refPeriod <http://reference.data.gov.uk/id/year/2011> ;
	iaest-dimension:clase-vivienda-agregado <http://opendata.aragon.es/kos/iaest/clase-vivienda-agregado/colectiva> ;
	iaest-dimension:clase-vivienda-detalle <http://opendata.aragon.es/kos/iaest/clase-vivienda-detalle/colectiva> ;
	iaest-medida:total-viviendas “9”^^xsd:int .


#01	La Jacetania	Familiar	Familiar no principal	13688
<http://opendata.aragon.es/recurso/iaest/observacion/01-010001TC/af296322-1591-401a-8f21-04c1ffb426eb> a qb:Observation ;
	sdmx-dimension:refArea <http://opendata.aragon.es/recurso/territorio/Comarca/La_Jacetania> ;
	sdmx-dimension:refPeriod <http://reference.data.gov.uk/id/year/2011> ;
	iaest-dimension:clase-vivienda-agregado <http://opendata.aragon.es/kos/iaest/clase-vivienda-agregado/familiar> ;
	iaest-dimension:clase-vivienda-detalle <http://opendata.aragon.es/kos/iaest/clase-vivienda-detalle/familiar-no-principal> ;
	iaest-medida:total-viviendas “13688”^^xsd:int .

